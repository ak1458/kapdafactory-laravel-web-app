import{c as re,r as o,j as t,L as ue,g as xe,u as me,S as fe,a as he}from"./index-DxkU6T3I.js";import{P as ge,u as pe,D as be,E as ve}from"./ExportModal-BWSopAbh.js";import{c as Q,C as we,a as ye,X as je}from"./CustomDatePicker-T4IMFbDZ.js";import{C as Ne}from"./clock-ZWQxUhjj.js";import{C as X}from"./calendar-CMNTU1_T.js";import{C as Se}from"./circle-alert-xOeAsiCA.js";import"./file-text-CJsyRSEY.js";const ze=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Ce=re("inbox",ze);const Ie=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Oe=re("log-out",Ie);function ke(e){let s=e;for(;s;){if(s.dir)return s.dir==="rtl";s=s.parentElement}return!1}function Ee(e,s){const[r,n]=o.useState(s==="rtl");return o.useLayoutEffect(()=>{e&&(s||n(ke(e)))},[s,e]),r}const G=typeof window<"u"?o.useLayoutEffect:o.useEffect;function se(e){if(e!==void 0)switch(typeof e){case"number":return e;case"string":{if(e.endsWith("px"))return parseFloat(e);break}}}function Re({box:e,defaultHeight:s,defaultWidth:r,disabled:n,element:i,mode:a,style:l}){const{styleHeight:d,styleWidth:c}=o.useMemo(()=>({styleHeight:se(l?.height),styleWidth:se(l?.width)}),[l?.height,l?.width]),[u,m]=o.useState({height:s,width:r}),x=n||a==="only-height"&&d!==void 0||a==="only-width"&&c!==void 0||d!==void 0&&c!==void 0;return G(()=>{if(i===null||x)return;const h=new ResizeObserver(p=>{for(const y of p){const{contentRect:f,target:b}=y;i===b&&m(N=>N.height===f.height&&N.width===f.width?N:{height:f.height,width:f.width})}});return h.observe(i,{box:e}),()=>{h?.unobserve(i)}},[e,x,i,d,c]),o.useMemo(()=>({height:d??u.height,width:c??u.width}),[u,d,c])}function ne(e){const s=o.useRef(()=>{throw new Error("Cannot call during render.")});return G(()=>{s.current=e},[e]),o.useCallback(r=>s.current?.(r),[s])}let $=null;function Me(e=!1){if($===null||e){const s=document.createElement("div"),r=s.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";const n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",s.appendChild(n),document.body.appendChild(s),s.scrollLeft>0?$="positive-descending":(s.scrollLeft=1,s.scrollLeft===0?$="negative":$="positive-ascending"),document.body.removeChild(s),$}return $}function q({containerElement:e,direction:s,isRtl:r,scrollOffset:n}){if(s==="horizontal"&&r)switch(Me()){case"negative":return-n;case"positive-descending":{if(e){const{clientWidth:i,scrollLeft:a,scrollWidth:l}=e;return l-i-a}break}}return n}function _(e,s="Assertion error"){if(!e)throw console.error(s),Error(s)}function F(e,s){if(e===s)return!0;if(!!e!=!!s||(_(e!==void 0),_(s!==void 0),Object.keys(e).length!==Object.keys(s).length))return!1;for(const r in e)if(!Object.is(s[r],e[r]))return!1;return!0}function ie({cachedBounds:e,itemCount:s,itemSize:r}){if(s===0)return 0;if(typeof r=="number")return s*r;{const n=e.get(e.size===0?0:e.size-1);_(n!==void 0,"Unexpected bounds cache miss");const i=(n.scrollOffset+n.size)/e.size;return s*i}}function Le({align:e,cachedBounds:s,index:r,itemCount:n,itemSize:i,containerScrollOffset:a,containerSize:l}){if(r<0||r>=n)throw RangeError(`Invalid index specified: ${r}`,{cause:`Index ${r} is not within the range of 0 - ${n-1}`});const d=ie({cachedBounds:s,itemCount:n,itemSize:i}),c=s.get(r),u=Math.max(0,Math.min(d-l,c.scrollOffset)),m=Math.max(0,c.scrollOffset-l+c.size);switch(e==="smart"&&(a>=m&&a<=u?e="auto":e="center"),e){case"start":return u;case"end":return m;case"center":return c.scrollOffset<=l/2?0:c.scrollOffset+c.size/2>=d-l/2?d-l:c.scrollOffset+c.size/2-l/2;case"auto":default:return a>=m&&a<=u?a:a<m?m:u}}function Y({cachedBounds:e,containerScrollOffset:s,containerSize:r,itemCount:n,overscanCount:i}){const a=n-1;let l=0,d=-1,c=0,u=-1,m=0;for(;m<a;){const x=e.get(m);if(x.scrollOffset+x.size>s)break;m++}for(l=m,c=Math.max(0,l-i);m<a;){const x=e.get(m);if(x.scrollOffset+x.size>=s+r)break;m++}return d=Math.min(a,m),u=Math.min(n-1,d+i),l<0&&(l=0,d=-1,c=0,u=-1),{startIndexVisible:l,stopIndexVisible:d,startIndexOverscan:c,stopIndexOverscan:u}}function _e({itemCount:e,itemProps:s,itemSize:r}){const n=new Map;return{get(i){for(_(i<e,`Invalid index ${i}`);n.size-1<i;){const l=n.size;let d;switch(typeof r){case"function":{d=r(l,s);break}case"number":{d=r;break}}if(l===0)n.set(l,{size:d,scrollOffset:0});else{const c=n.get(l-1);_(c!==void 0,`Unexpected bounds cache miss for index ${i}`),n.set(l,{scrollOffset:c.scrollOffset+c.size,size:d})}}const a=n.get(i);return _(a!==void 0,`Unexpected bounds cache miss for index ${i}`),a},set(i,a){n.set(i,a)},get size(){return n.size}}}function De({itemCount:e,itemProps:s,itemSize:r}){return o.useMemo(()=>_e({itemCount:e,itemProps:s,itemSize:r}),[e,s,r])}function Te({containerSize:e,itemSize:s}){let r;switch(typeof s){case"string":{_(s.endsWith("%"),`Invalid item size: "${s}"; string values must be percentages (e.g. "100%")`),_(e!==void 0,"Container size must be defined if a percentage item size is specified"),r=e*parseInt(s)/100;break}default:{r=s;break}}return r}function Z({containerElement:e,containerStyle:s,defaultContainerSize:r=0,direction:n,isRtl:i=!1,itemCount:a,itemProps:l,itemSize:d,onResize:c,overscanCount:u}){const{height:m=r,width:x=r}=Re({defaultHeight:n==="vertical"?r:void 0,defaultWidth:n==="horizontal"?r:void 0,element:e,mode:n==="vertical"?"only-height":"only-width",style:s}),h=o.useRef({height:0,width:0}),p=n==="vertical"?m:x,y=Te({containerSize:p,itemSize:d});o.useLayoutEffect(()=>{if(typeof c=="function"){const w=h.current;(w.height!==m||w.width!==x)&&(c({height:m,width:x},{...w}),w.height=m,w.width=x)}},[m,c,x]);const f=De({itemCount:a,itemProps:l,itemSize:y}),b=o.useCallback(w=>f.get(w),[f]),[N,z]=o.useState(()=>Y({cachedBounds:f,containerScrollOffset:0,containerSize:p,itemCount:a,overscanCount:u})),{startIndexVisible:v,startIndexOverscan:g,stopIndexVisible:A,stopIndexOverscan:O}={startIndexVisible:Math.min(a-1,N.startIndexVisible),startIndexOverscan:Math.min(a-1,N.startIndexOverscan),stopIndexVisible:Math.min(a-1,N.stopIndexVisible),stopIndexOverscan:Math.min(a-1,N.stopIndexOverscan)},C=o.useCallback(()=>ie({cachedBounds:f,itemCount:a,itemSize:y}),[f,a,y]),D=o.useCallback(w=>{const k=q({containerElement:e,direction:n,isRtl:i,scrollOffset:w});return Y({cachedBounds:f,containerScrollOffset:k,containerSize:p,itemCount:a,overscanCount:u})},[f,e,p,n,i,a,u]);G(()=>{const w=(n==="vertical"?e?.scrollTop:e?.scrollLeft)??0;z(D(w))},[e,n,D]),G(()=>{if(!e)return;const w=()=>{z(k=>{const{scrollLeft:R,scrollTop:S}=e,j=q({containerElement:e,direction:n,isRtl:i,scrollOffset:n==="vertical"?S:R}),M=Y({cachedBounds:f,containerScrollOffset:j,containerSize:p,itemCount:a,overscanCount:u});return F(M,k)?k:M})};return e.addEventListener("scroll",w),()=>{e.removeEventListener("scroll",w)}},[f,e,p,n,a,u]);const I=ne(({align:w="auto",containerScrollOffset:k,index:R})=>{let S=Le({align:w,cachedBounds:f,containerScrollOffset:k,containerSize:p,index:R,itemCount:a,itemSize:y});if(e){if(S=q({containerElement:e,direction:n,isRtl:i,scrollOffset:S}),typeof e.scrollTo!="function"){const j=D(S);F(N,j)||z(j)}return S}});return{getCellBounds:b,getEstimatedSize:C,scrollToIndex:I,startIndexOverscan:g,startIndexVisible:v,stopIndexOverscan:O,stopIndexVisible:A}}function ae(e){return o.useMemo(()=>e,Object.values(e))}function oe(e,s){const{ariaAttributes:r,style:n,...i}=e,{ariaAttributes:a,style:l,...d}=s;return F(r,a)&&F(n,l)&&F(i,d)}function He({cellComponent:e,cellProps:s,children:r,className:n,columnCount:i,columnWidth:a,defaultHeight:l=0,defaultWidth:d=0,dir:c,gridRef:u,onCellsRendered:m,onResize:x,overscanCount:h=3,rowCount:p,rowHeight:y,style:f,tagName:b="div",...N}){const z=ae(s),v=o.useMemo(()=>o.memo(e,oe),[e]),[g,A]=o.useState(null),O=Ee(g,c),{getCellBounds:C,getEstimatedSize:D,startIndexOverscan:I,startIndexVisible:w,scrollToIndex:k,stopIndexOverscan:R,stopIndexVisible:S}=Z({containerElement:g,containerStyle:f,defaultContainerSize:d,direction:"horizontal",isRtl:O,itemCount:i,itemProps:z,itemSize:a,onResize:x,overscanCount:h}),{getCellBounds:j,getEstimatedSize:M,startIndexOverscan:L,startIndexVisible:ee,scrollToIndex:U,stopIndexOverscan:B,stopIndexVisible:te}=Z({containerElement:g,containerStyle:f,defaultContainerSize:l,direction:"vertical",itemCount:p,itemProps:z,itemSize:y,onResize:x,overscanCount:h});o.useImperativeHandle(u,()=>({get element(){return g},scrollToCell({behavior:T="auto",columnAlign:E="auto",columnIndex:H,rowAlign:P="auto",rowIndex:V}){const W=k({align:E,containerScrollOffset:g?.scrollLeft??0,index:H}),de=U({align:P,containerScrollOffset:g?.scrollTop??0,index:V});typeof g?.scrollTo=="function"&&g.scrollTo({behavior:T,left:W,top:de})},scrollToColumn({align:T="auto",behavior:E="auto",index:H}){const P=k({align:T,containerScrollOffset:g?.scrollLeft??0,index:H});typeof g?.scrollTo=="function"&&g.scrollTo({behavior:E,left:P})},scrollToRow({align:T="auto",behavior:E="auto",index:H}){const P=U({align:T,containerScrollOffset:g?.scrollTop??0,index:H});typeof g?.scrollTo=="function"&&g.scrollTo({behavior:E,top:P})}}),[g,k,U]),o.useEffect(()=>{I>=0&&R>=0&&L>=0&&B>=0&&m&&m({columnStartIndex:w,columnStopIndex:S,rowStartIndex:ee,rowStopIndex:te},{columnStartIndex:I,columnStopIndex:R,rowStartIndex:L,rowStopIndex:B})},[m,I,w,R,S,L,ee,B,te]);const le=o.useMemo(()=>{const T=[];if(i>0&&p>0)for(let E=L;E<=B;E++){const H=j(E),P=[];for(let V=I;V<=R;V++){const W=C(V);P.push(o.createElement(v,{...z,ariaAttributes:{"aria-colindex":V+1,role:"gridcell"},columnIndex:V,key:V,rowIndex:E,style:{position:"absolute",left:O?void 0:0,right:O?0:void 0,transform:`translate(${O?-W.scrollOffset:W.scrollOffset}px, ${H.scrollOffset}px)`,height:H.size,width:W.size}}))}T.push(t.jsx("div",{role:"row","aria-rowindex":E+1,children:P},E))}return T},[v,z,i,I,R,C,j,O,p,L,B]),ce=t.jsx("div",{"aria-hidden":!0,style:{height:M(),width:D(),zIndex:-1}});return o.createElement(b,{"aria-colcount":i,"aria-rowcount":p,role:"grid",...N,className:n,dir:c,ref:A,style:{position:"relative",maxHeight:"100%",maxWidth:"100%",flexGrow:1,overflow:"auto",...f}},le,r,ce)}const Pe=o.useState,Ve=o.useRef;function Ae(e){return e!=null&&typeof e=="object"&&"getAverageRowHeight"in e&&typeof e.getAverageRowHeight=="function"}const J="data-react-window-index";function $e({children:e,className:s,defaultHeight:r=0,listRef:n,onResize:i,onRowsRendered:a,overscanCount:l=3,rowComponent:d,rowCount:c,rowHeight:u,rowProps:m,tagName:x="div",style:h,...p}){const y=ae(m),f=o.useMemo(()=>o.memo(d,oe),[d]),[b,N]=o.useState(null),z=Ae(u),v=o.useMemo(()=>z?S=>u.getRowHeight(S)??u.getAverageRowHeight():u,[z,u]),{getCellBounds:g,getEstimatedSize:A,scrollToIndex:O,startIndexOverscan:C,startIndexVisible:D,stopIndexOverscan:I,stopIndexVisible:w}=Z({containerElement:b,containerStyle:h,defaultContainerSize:r,direction:"vertical",itemCount:c,itemProps:y,itemSize:v,onResize:i,overscanCount:l});o.useImperativeHandle(n,()=>({get element(){return b},scrollToRow({align:S="auto",behavior:j="auto",index:M}){const L=O({align:S,containerScrollOffset:b?.scrollTop??0,index:M});typeof b?.scrollTo=="function"&&b.scrollTo({behavior:j,top:L})}}),[b,O]),G(()=>{if(!b)return;const S=Array.from(b.children).filter((j,M)=>{if(j.hasAttribute("aria-hidden"))return!1;const L=`${C+M}`;return j.setAttribute(J,L),!0});if(z)return u.observeRowElements(S)},[b,z,u,C,I]),o.useEffect(()=>{C>=0&&I>=0&&a&&a({startIndex:D,stopIndex:w},{startIndex:C,stopIndex:I})},[a,C,D,I,w]);const k=o.useMemo(()=>{const S=[];if(c>0)for(let j=C;j<=I;j++){const M=g(j);S.push(o.createElement(f,{...y,ariaAttributes:{"aria-posinset":j+1,"aria-setsize":c,role:"listitem"},key:j,index:j,style:{position:"absolute",left:0,transform:`translateY(${M.scrollOffset}px)`,height:z?void 0:M.size,width:"100%"}}))}return S},[f,g,z,c,y,C,I]),R=t.jsx("div",{"aria-hidden":!0,style:{height:A(),width:"100%",zIndex:-1}});return o.createElement(x,{role:"list",...p,className:s,ref:N,style:{position:"relative",maxHeight:"100%",flexGrow:1,overflowY:"auto",...h}},k,e,R)}function Be({defaultRowHeight:e,key:s}){const[r,n]=o.useState({key:s,map:new Map});r.key!==s&&n({key:s,map:new Map});const{map:i}=r,a=o.useCallback(()=>{let x=0;return i.forEach(h=>{x+=h}),x===0?e:x/i.size},[e,i]),l=o.useCallback(x=>{const h=i.get(x);return h!==void 0?h:(i.set(x,e),e)},[e,i]),d=o.useCallback((x,h)=>{n(p=>{if(p.map.get(x)===h)return p;const y=new Map(p.map);return y.set(x,h),{...p,map:y}})},[]),c=ne(x=>{x.length!==0&&x.forEach(h=>{const{borderBoxSize:p,target:y}=h,f=y.getAttribute(J);_(f!==null,`Invalid ${J} attribute value`);const b=parseInt(f),{blockSize:N}=p[0];N&&d(b,N)})}),[u]=o.useState(()=>{if(typeof ResizeObserver<"u")return new ResizeObserver(c)});o.useEffect(()=>{if(u)return()=>{u.disconnect()}},[u]);const m=o.useCallback(x=>u?(x.forEach(h=>u.observe(h)),()=>{x.forEach(h=>u.unobserve(h))}):()=>{},[u]);return o.useMemo(()=>({getAverageRowHeight:a,getRowHeight:l,setRowHeight:d,observeRowElements:m}),[a,l,d,m])}const We=o.useState,Fe=o.useRef;let K=-1;function Ge(e=!1){if(K===-1||e){const s=document.createElement("div"),r=s.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(s),K=s.offsetWidth-s.clientWidth,document.body.removeChild(s)}return K}const Ue=Object.freeze(Object.defineProperty({__proto__:null,Grid:He,List:$e,getScrollbarSize:Ge,useDynamicRowHeight:Be,useGridCallbackRef:Pe,useGridRef:Ve,useListCallbackRef:We,useListRef:Fe},Symbol.toStringTag,{value:"Module"}));function qe({children:e}){const s=o.useRef(null),[r,n]=o.useState({width:0,height:0});return o.useEffect(()=>{if(!s.current)return;const i=new ResizeObserver(a=>{for(const l of a){const{width:d,height:c}=l.contentRect;n({width:d,height:c})}});return i.observe(s.current),()=>i.disconnect()},[]),t.jsx("div",{ref:s,style:{width:"100%",height:"100%",overflow:"hidden"},children:r.width>0&&r.height>0&&e(r)})}function Ye({status:e,onChange:s,options:r}){const n=i=>{switch(i){case"pending":return"bg-amber-500 border-amber-600 text-white shadow-amber-200";case"ready":return"bg-blue-500 border-blue-600 text-white shadow-blue-200";case"delivered":return"bg-green-500 border-green-600 text-white shadow-green-200";case"transferred":return"bg-purple-500 border-purple-600 text-white shadow-purple-200";default:return"bg-slate-900 border-slate-900 text-white shadow-slate-200"}};return t.jsx("div",{className:"flex gap-2 overflow-x-auto py-2 no-scrollbar px-1",children:r.map(i=>t.jsx("button",{onClick:()=>s(i.value),className:Q("px-4 py-2 rounded-xl text-xs font-bold whitespace-nowrap transition-all duration-200 border",e===i.value?`${n(i.value)} transform scale-105 shadow-lg`:"bg-white text-gray-600 border-gray-100 hover:bg-gray-50"),children:i.label},i.value))})}function Ke({order:e}){const s={pending:{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-100",dot:"bg-amber-500"},ready:{bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-100",dot:"bg-indigo-500"},delivered:{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-100",dot:"bg-emerald-500"},transferred:{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-100",dot:"bg-purple-500"}},r=s[e?.status]||s.pending;return t.jsxs(ue,{to:`/orders/${e?.id}`,className:"group block glass-card rounded-2xl p-4 mb-3 transition-all duration-300 active:scale-[0.98] hover:shadow-[0_8px_32px_rgba(0,0,0,0.1)]",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsx("div",{className:"flex flex-col",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"font-bold text-slate-800 text-lg",children:["#",e?.token]}),e?.bill_number&&t.jsxs("span",{className:"px-2 py-0.5 rounded-md bg-slate-100 text-slate-500 text-[10px] font-medium tracking-wide uppercase",children:["BILL-",e.bill_number]})]})}),t.jsxs("div",{className:Q("pl-2 pr-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1.5 border",r.bg,r.text,r.border),children:[t.jsx("div",{className:Q("w-1.5 h-1.5 rounded-full",r.dot)}),t.jsx("span",{className:"capitalize",children:e.status})]})]}),t.jsxs("div",{className:"flex gap-4 items-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-xl flex-shrink-0 overflow-hidden border border-slate-100 shadow-inner relative group-hover:ring-2 ring-indigo-50 transition-all",children:e.images&&e.images.length>0?t.jsx("img",{src:xe(e.images[0].filename),alt:"Order",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:n=>n.target.style.display="none"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:t.jsx(ge,{size:24,strokeWidth:1.5})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-base font-semibold text-slate-900 truncate",children:e.customer_name||"Walk-in Customer"}),t.jsxs("div",{className:"flex items-center gap-4 mt-1.5",children:[e.entry_date&&t.jsxs("div",{className:"flex items-center text-xs text-teal-600 font-medium",children:[t.jsx(Ne,{size:13,className:"mr-1.5 text-teal-500"}),new Date(e.entry_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),t.jsxs("div",{className:"flex items-center text-xs text-slate-500 font-medium",children:[t.jsx(X,{size:13,className:"mr-1.5 text-slate-400"}),e.delivery_date?new Date(e.delivery_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"No Date"]}),e.remarks&&t.jsxs("div",{className:"flex items-center text-xs text-slate-400 truncate max-w-[100px]",children:[t.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300 mr-2"}),e.remarks]})]})]}),t.jsx(we,{size:18,className:"text-slate-300 group-hover:text-indigo-500 group-hover:translate-x-1 transition-all"})]})]})}const Qe=Ue;function nt(){const e=me(),[s,r]=o.useState(""),[n,i]=o.useState("all"),[a,l]=o.useState(""),[d,c]=o.useState("desc"),[u,m]=o.useState(!1),x=()=>{localStorage.removeItem("token"),e("/login")},{data:h,isLoading:p,error:y}=pe({queryKey:["orders",s,n,a,d],queryFn:async()=>{const v={search:s,status:n,sort_by:"created_at",sort_order:d};return a&&(v.date_from=a,v.date_to=a,v.date=a),(await he.get("/orders",{params:v})).data},keepPreviousData:!0}),f=h?.data||[],b=h||{},N=v=>{try{if(!v)return"Select Date";const g=new Date(v);return isNaN(g.getTime())?"Invalid Date":g.toLocaleDateString(void 0,{weekday:"long",day:"numeric",month:"long"})}catch{return"Invalid Date"}},z=()=>!a||!f.length?null:t.jsx("div",{className:"mx-4 mt-4 mb-2",children:t.jsxs("div",{className:"bg-gradient-to-br from-[#075E54] to-[#128C7E] rounded-2xl p-4 text-white shadow-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3 border-b border-white/20 pb-2",children:[t.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[t.jsx(X,{size:18}),N(a)]}),t.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-sm",children:"Daily Summary"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{className:"bg-white/10 rounded-xl p-2 backdrop-blur-sm",children:[t.jsx("p",{className:"text-xs text-green-100 uppercase tracking-wider font-medium",children:"Collection"}),t.jsxs("p",{className:"text-xl font-bold",children:["₹",b?.total_collection||0]})]}),t.jsxs("div",{className:"bg-white/10 rounded-xl p-2 backdrop-blur-sm",children:[t.jsx("p",{className:"text-xs text-red-100 uppercase tracking-wider font-medium",children:"Pending"}),t.jsxs("p",{className:"text-xl font-bold",children:["₹",b?.total_pending||0]})]}),t.jsxs("div",{className:"bg-white/10 rounded-xl p-2 backdrop-blur-sm",children:[t.jsx("p",{className:"text-xs text-blue-100 uppercase tracking-wider font-medium",children:"Total Orders"}),t.jsx("p",{className:"text-xl font-bold",children:b?.total_orders||0})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3 text-center",children:[t.jsxs("div",{className:"bg-white/5 rounded-lg p-1.5",children:[t.jsx("p",{className:"text-[10px] text-gray-200",children:"Dues Cleared"}),t.jsx("p",{className:"font-bold text-sm",children:b?.dues_cleared||0})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-1.5",children:[t.jsx("p",{className:"text-[10px] text-gray-200",children:"Partial Paid"}),t.jsx("p",{className:"font-bold text-sm",children:b?.partial_payments||0})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-1.5",children:[t.jsx("p",{className:"text-[10px] text-gray-200",children:"Fully Paid"}),t.jsx("p",{className:"font-bold text-sm",children:b?.full_payments||0})]})]})]})});return t.jsxs("div",{className:"flex-1 flex flex-col bg-[#ECE5DD] font-sans h-full",children:[t.jsx("header",{className:"flex-none glass-header-green text-white p-4 z-50",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:"/logo.png",alt:"KapdaFactory",className:"h-8 w-auto object-contain"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold",children:"Search Orders"}),t.jsx("p",{className:"text-xs opacity-80",children:"Find and manage all orders"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>m(!0),className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",title:"Export Data",children:t.jsx(be,{size:18})}),t.jsx("button",{onClick:x,className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:t.jsx(Oe,{size:18})})]})]})}),t.jsxs("main",{className:"flex-1 flex flex-col p-4 pb-24 overflow-y-auto scrollbar-hide",children:[t.jsxs("div",{className:"glass rounded-2xl p-3 flex flex-col gap-3 mb-4 sticky top-0 z-40",children:[t.jsxs("div",{className:"relative",children:[t.jsx(fe,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",placeholder:"Search orders...",value:s,onChange:v=>r(v.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-gray-50 rounded-lg border-0 text-gray-900 text-sm font-medium placeholder-gray-400 focus:ring-2 focus:ring-teal-500/20 transition-all"})]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:t.jsx(Ye,{status:n,onChange:i,options:[{value:"all",label:"All"},{value:"pending",label:"Pending"},{value:"ready",label:"Ready"},{value:"delivered",label:"Delivered"},{value:"transferred",label:"Transferred"}]})}),t.jsxs("div",{className:"flex items-stretch gap-2 pt-2 border-t border-gray-50",children:[t.jsx("div",{className:"flex-1 bg-gradient-to-br from-teal-50 to-green-50 rounded-xl p-3 border border-teal-100 shadow-sm",children:t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"text-[10px] font-bold text-teal-700 uppercase tracking-wider mb-1 block",children:"Filter by Date"}),t.jsx(ye,{selected:a,onChange:v=>l(v),placeholder:"Select Date",className:"text-sm font-bold text-gray-800"})]}),a&&t.jsx("button",{onClick:()=>l(""),className:"flex-none p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Clear Date",children:t.jsx(je,{size:14})})]})}),t.jsxs("button",{onClick:()=>c(v=>v==="desc"?"asc":"desc"),className:"flex-none bg-gradient-to-br from-slate-50 to-gray-50 rounded-xl px-4 py-3 border border-gray-200 shadow-sm hover:shadow-md transition-all group",children:[t.jsx("div",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Sort Order"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-gray-800",children:[t.jsx(X,{size:14,className:"text-teal-600"}),d==="desc"?"Latest":"Oldest"]})]})]})]}),z(),p?t.jsxs("div",{className:"flex flex-col items-center justify-center py-10 space-y-4 animate-pulse",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),t.jsx("div",{className:"h-3 w-24 bg-gray-200 rounded"})]}):y?t.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-full flex items-center justify-center mb-3",children:t.jsx(Se,{size:24,className:"text-red-500"})}),t.jsx("p",{className:"text-gray-500 text-xs",children:"Failed to load orders"}),t.jsx("button",{onClick:()=>window.location.reload(),className:"mt-3 px-4 py-1.5 bg-gray-900 text-white rounded-lg text-xs font-bold",children:"Retry"})]}):f.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center opacity-50",children:[t.jsx(Ce,{size:32,className:"text-gray-400 mb-2"}),t.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"No orders found"})]}):t.jsx("div",{className:"flex-1 min-h-0 relative",children:t.jsx(qe,{children:({height:v,width:g})=>t.jsx(Qe,{height:v,width:g,itemCount:f.length,itemSize:160,itemData:f,className:"scrollbar-hide",children:({index:A,style:O,data:C})=>t.jsx("div",{style:{...O,width:"100%"},className:"pr-1 pb-3",children:t.jsx(Ke,{order:C[A]})})})})})]}),t.jsx(ve,{isOpen:u,onClose:()=>m(!1),exportType:"orders"})]})}export{nt as default};
