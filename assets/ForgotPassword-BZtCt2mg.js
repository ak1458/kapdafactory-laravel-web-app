import{c as f,r as t,j as e,L as v,a as k}from"./index-DxkU6T3I.js";import{M as C}from"./mail-CbKggO5e.js";import{A as E}from"./arrow-right-DuGiMe47.js";import{C as y}from"./circle-check-big-Cbvkd_bt.js";import{A as L}from"./arrow-left-BWpi5I5Z.js";const S=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],z=f("copy",S);const D=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],M=f("external-link",D);function T(){const[c,u]=t.useState(""),[d,a]=t.useState(""),[n,o]=t.useState(""),[r,x]=t.useState(""),[m,b]=t.useState(!1),[l,g]=t.useState(!1),[p,h]=t.useState(!1),j=async i=>{i.preventDefault(),g(!0),a(""),o(""),x("");try{const s=await k.post("/forgot-password",{email:c});a(s.data.message),x(s.data.reset_link||""),b(s.data.email_sent||!1)}catch(s){o(s.response?.data?.message||"Something went wrong. Please try again.")}finally{g(!1)}},N=()=>{navigator.clipboard.writeText(r),h(!0),setTimeout(()=>h(!1),2e3)},w=()=>{window.location.href=r};return e.jsxs("div",{className:"min-h-screen bg-[#ECE5DD] flex flex-col items-center justify-center p-6 font-sans",children:[e.jsxs("div",{className:"w-full max-w-sm bg-white rounded-3xl shadow-xl shadow-gray-100/50 border border-gray-100 p-8 space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-teal-50 to-green-50 rounded-2xl flex items-center justify-center text-[#075E54] shadow-lg shadow-teal-100",children:e.jsx(C,{size:28})})}),e.jsx("h1",{className:"text-2xl font-bold text-[#075E54]",children:"Forgot Password?"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enter your email to reset your password"})]}),!d&&!n?e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Email Address"}),e.jsx("input",{type:"email",required:!0,value:c,onChange:i=>u(i.target.value),className:"block w-full px-4 py-3.5 bg-gray-50 border border-gray-100 rounded-2xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#25D366]/20 focus:border-[#25D366] transition-all font-medium",placeholder:"Enter your registered email"})]}),e.jsxs("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center gap-2 py-4 px-6 bg-gradient-to-r from-[#075E54] to-[#25D366] hover:from-[#128C7E] hover:to-[#25D366] text-white text-lg font-bold rounded-2xl shadow-lg shadow-green-500/20 transform transition-all active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed",children:[l?"Sending...":"Send Reset Link",!l&&e.jsx(E,{size:20})]})]}):n?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-red-50 border border-red-100 text-red-600 rounded-2xl text-sm font-medium text-center",children:n}),e.jsx("button",{onClick:()=>{o(""),a("")},className:"w-full py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-xl transition-colors",children:"Try Again"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-green-50 border border-green-100 rounded-2xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(y,{className:"text-green-600 flex-shrink-0 mt-0.5",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-700 font-medium text-sm",children:d}),m&&e.jsx("p",{className:"text-green-600 text-xs mt-1",children:"Check your inbox and spam folder."})]})]})}),r&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:m?"Or use this link directly:":"Reset Link:"}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-3",children:e.jsx("p",{className:"text-xs text-gray-600 break-all font-mono",children:r})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:N,className:"flex-1 py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-xl transition-colors flex items-center justify-center gap-2 text-sm",children:[p?e.jsx(y,{size:16,className:"text-green-600"}):e.jsx(z,{size:16}),p?"Copied!":"Copy Link"]}),e.jsxs("button",{onClick:w,className:"flex-1 py-3 px-4 bg-[#25D366] hover:bg-[#128C7E] text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2 text-sm",children:[e.jsx(M,{size:16}),"Open Link"]})]})]}),e.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Link expires in 60 minutes."})]}),e.jsx("div",{className:"text-center pt-2",children:e.jsxs(v,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-bold text-gray-400 hover:text-gray-600 transition-colors",children:[e.jsx(L,{size:16})," Back to Login"]})})]}),e.jsx("p",{className:"mt-8 text-center text-xs text-gray-400",children:"Â© 2025 KapdaFactory developed by SmileFotilo"})]})}export{T as default};
