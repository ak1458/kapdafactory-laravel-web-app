import{e as b,u as w,r as t,j as e,L as j,a as N}from"./index-DxkU6T3I.js";import{L as v}from"./lock-CaVL-BbJ.js";import{A as P}from"./arrow-right-DuGiMe47.js";import{C as k}from"./circle-check-big-Cbvkd_bt.js";function E(){const[n]=b(),g=w(),c=n.get("token"),i=n.get("email"),[a,p]=t.useState(""),[d,f]=t.useState(""),[h,x]=t.useState(""),[m,r]=t.useState(""),[l,u]=t.useState(!1),y=async s=>{if(s.preventDefault(),a!==d){r("Passwords do not match");return}u(!0),r(""),x("");try{const o=await N.post("/reset-password",{token:c,email:i,password:a});x(o.data.message),setTimeout(()=>g("/login"),2e3)}catch(o){r(o.response?.data?.message||"Failed to reset password")}finally{u(!1)}};return!c||!i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Invalid Link"}),e.jsx(j,{to:"/login",className:"text-teal-600 hover:underline mt-2 block",children:"Return to Login"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6 font-sans",children:e.jsxs("div",{className:"w-full max-w-sm bg-white rounded-3xl shadow-xl shadow-gray-100/50 border border-gray-100 p-8 space-y-8",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-12 h-12 bg-teal-50 rounded-2xl flex items-center justify-center text-teal-600",children:e.jsx(v,{size:24})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reset Password"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enter your new password below"})]}),h?e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto text-green-600",children:e.jsx(k,{size:32})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Password Reset!"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Your password has been successfully updated."}),e.jsx("p",{className:"text-xs text-gray-400",children:"Redirecting to login..."})]}):e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider ml-1",children:"New Password"}),e.jsx("input",{type:"password",required:!0,value:a,onChange:s=>p(s.target.value),className:"block w-full px-4 py-3.5 bg-gray-50 border border-gray-100 rounded-2xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all font-medium",placeholder:"Min. 6 characters"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider ml-1",children:"Confirm Password"}),e.jsx("input",{type:"password",required:!0,value:d,onChange:s=>f(s.target.value),className:"block w-full px-4 py-3.5 bg-gray-50 border border-gray-100 rounded-2xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all font-medium",placeholder:"Repeat password"})]})]}),m&&e.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded-xl text-sm font-medium text-center",children:m}),e.jsxs("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center gap-2 py-4 px-6 bg-teal-600 hover:bg-teal-700 text-white text-lg font-bold rounded-2xl shadow-lg shadow-teal-600/20 transform transition-all active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed",children:[l?"Resetting...":"Reset Password",!l&&e.jsx(P,{size:20})]})]})]})})}export{E as default};
